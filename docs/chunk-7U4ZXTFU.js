import{a as J}from "./chunk-F4LM3JYB.js";import{a as H}from "./chunk-ALUE5NLG.js";import{$ as L,B as s,C as F,D as g,E as c,F as a,G as V,J as C,K as b,L as p,M as w,N as m,O as d,P as M,T as O,U as B,V as $,W as P,X as y,Y as I,_ as N,aa as R,ba as j,i as v,ia as D,k as E,l as u,la as Q,m as T,na as k,o as f,oa as q,p as x,pa as G,qa as A,ta as U,u as z,x as r,y as h}from "./chunk-KAWNTKCU.js";var K=(()=>{let n=class n{transform(i){typeof i=="string"&&(i=parseInt(i));let o=Math.floor(i/60),l=i%60;return o===0?`${l} \u043C\u0438\u043D`:l===0?`${o} \u0447`:`${o} \u0447 ${l} \u043C\u0438\u043D`}};n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=T({name:"minutesToHours",type:n,pure:!0});let e=n;return e})();var Z=["backdrop"],tt=["modal"];function et(e, n){if(e&1){let t=C();c(0,"img",19),b("load",function(){f(t);let o=p(2);return x(o.isImgLoaded=!0)}),a()}if(e&2){let t=p(2);s("hidden",!t.isImgLoaded)("src",t.movie.logo.url,z)}}function nt(e, n){if(e&1&&(c(0,"p",20),m(1),a()),e&2){let t=p(2);r(1),d(t.movie.name)}}function it(e, n){if(e&1&&(c(0,"span",21),m(1),O(2,"number"),a()),e&2){let t=p(2);s("rating",t.movie.rating.kp),r(1),d($(2,2,t.movie.rating.kp,"1.1-1"))}}function ot(e, n){if(e&1&&(c(0,"span",22),m(1),O(2,"minutesToHours"),a()),e&2){let t=p(2);r(1),d(B(2,1,t.movie.movieLength))}}function rt(e, n){if(e&1&&(c(0,"span",11),m(1),a()),e&2){let t=p(2);r(1),d(t.seasonsNumber)}}function at(e, n){if(e&1&&(c(0,"span",23),m(1),a()),e&2){let t=p(2);r(1),M("",t.movie.ageRating,"+")}}function ct(e, n){if(e&1){let t=C();c(0,"button",17),b("click",function(){f(t);let o=p(2);return x(o.getTrailer())}),m(1,"\u0422\u0440\u0435\u0439\u043B\u0435\u0440"),a()}}function st(e, n){if(e&1){let t=C();c(0,"section",3)(1,"div",4),g(2,et,1,2,"img",5)(3,nt,2,1,"p",6),c(4,"div",7),g(5,it,3,5,"span",8),c(6,"span",9),m(7),a(),c(8,"span",10),m(9),a(),c(10,"span",11),m(11),a(),g(12,ot,3,3,"span",12)(13,rt,2,1,"span",13)(14,at,2,1,"span",14),a(),c(15,"div",15),m(16),a(),c(17,"div",16)(18,"button",17),b("click",function(){f(t);let o=p();return x(o.getVoidBoostLink())}),m(19),a(),g(20,ct,2,0,"button",18),a()()()}if(e&2){let t=p();F("background-image","url("+t.movie.backdrop.url+")"),r(2),s("ngIf",t.movie==null||t.movie.logo==null?null:t.movie.logo.url),r(1),s("ngIf",!(!(t.movie==null||t.movie.logo==null)&&t.movie.logo.url)),r(2),s("ngIf",t.movie.rating.kp),r(2),d(t.movie.year),r(2),d(t.genre),r(2),d(t.movie.countries[0].name),r(1),s("ngIf",t.movie.movieLength),r(1),s("ngIf",t.movie==null||t.movie.seasonsInfo==null?null:t.movie.seasonsInfo.length),r(1),s("ngIf",t.movie.ageRating),r(2),d(t.movie.shortDescription),r(3),M("\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C ",t.movieType,""),r(1),s("ngIf",t.movie==null||t.movie.videos==null||t.movie.videos.trailers==null?null:t.movie.videos.trailers.length)}}function mt(e, n){if(e&1&&(c(0,"li",32)(1,"a",33),m(2),a()()),e&2){let t=n.$implicit;r(1),w("routerLink","/person/",t.id,""),r(1),d(t.name)}}function lt(e, n){if(e&1&&(c(0,"div",28)(1,"h4",29),m(2,"\u0412 \u0433\u043B\u0430\u0432\u043D\u044B\u0445 \u0440\u043E\u043B\u044F\u0445"),a(),c(3,"ul",30),g(4,mt,3,2,"li",31),a()()),e&2){let t=p(2);r(4),s("ngForOf",t.actors)}}function pt(e, n){if(e&1&&(c(0,"li",32)(1,"a",33),m(2),a()()),e&2){let t=n.$implicit;r(1),w("routerLink","/person/",t.id,""),r(1),d(t.name)}}function dt(e, n){if(e&1&&(c(0,"div",28)(1,"h4",29),m(2,"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440\u044B"),a(),c(3,"ul",30),g(4,pt,3,2,"li",31),a()()),e&2){let t=p(2);r(4),s("ngForOf",t.directors)}}function gt(e, n){if(e&1&&(c(0,"section",24)(1,"h3"),m(2,"\u0414\u0435\u0442\u0430\u043B\u0438"),a(),c(3,"div",4)(4,"div",25)(5,"p",26),m(6),a()(),g(7,lt,5,1,"div",27)(8,dt,5,1,"div",27),a()()),e&2){let t=p();r(6),d(t.movie.description),r(1),s("ngIf",t.actors.length),r(1),s("ngIf",t.directors.length)}}function _t(e, n){if(e&1&&(c(0,"a",37),V(1,"app-movie-card",38),a()),e&2){let t=n.$implicit;w("routerLink","/movie/",t.id,""),r(1),s("card",t)}}function vt(e, n){if(e&1&&(c(0,"section",34)(1,"h3"),m(2,"\u041F\u043E\u0445\u043E\u0436\u0435\u0435"),a(),c(3,"app-slider",35),g(4,_t,2,2,"a",36),a()()),e&2){let t=p();r(4),s("ngForOf",t.movie.similarMovies)}}var W=(()=>{let n=class n{constructor(i, o, l){this.movieService=i,this.route=o,this.modalService=l,this.directors=[],this.actors=[],this.genre="",this.isImgLoaded=!1}ngOnInit(){this.route.params.subscribe(i=>{i.hasOwnProperty("id")&&this.getMovieById(i.id)})}getCorrectGenre(i){switch(i){case"\u0444\u0438\u043B\u044C\u043C":case"\u0441\u0435\u0440\u0438\u0430\u043B":this.genre=this.movie.genres[0].name;break;case"\u043C\u0443\u043B\u044C\u0442\u0444\u0438\u043B\u044C\u043C":this.genre=this.movie.genres[1].name;break;case"\u0430\u043D\u0438\u043C\u0435":this.genre=this.movie.genres[2].name;break}}getMovieById(i){this.movieService.getMovieById(i).subscribe(o=>{this.movie=o,this.seasonsNumber=this.getNumberOfSeasons(this.movie?.seasonsInfo?.length);let l=this.movie.persons;this.actors=l.filter(_=>_.enProfession==="actor"),this.directors=l.filter(_=>_.enProfession==="director"),this.movieType=this.getMovieType(this.movie.typeNumber),this.getCorrectGenre(this.movieType)})}getMovieType(i){return["\u0444\u0438\u043B\u044C\u043C","\u0441\u0435\u0440\u0438\u0430\u043B","\u043C\u0443\u043B\u044C\u0442\u0444\u0438\u043B\u044C\u043C","\u0430\u043D\u0438\u043C\u0435","\u043C\u0443\u043B\u044C\u0442\u0444\u0438\u043B\u044C\u043C"][i-1]}getTrailer(){this.modalService.setVideoLink(this.movie?.videos?.trailers[0]?.url)}getVoidBoostLink(){let i=this.movie.isSeries?"?s=1&e=1":"";this.modalService.setVideoLink(`https://voidboost.tv/embed/${this.movie.id}${i}`)}getNumberOfSeasons(i){let o=i%10;return i>=10&&i<=20?`${i} \u0441\u0435\u0437\u043E\u043D\u043E\u0432`:o===1?`${i} \u0441\u0435\u0437\u043E\u043D`:o>=2&&o<=4?`${i} \u0441\u0435\u0437\u043E\u043D\u0430`:o>=5&&o<=9||o===0?`${i} \u0441\u0435\u0437\u043E\u043D\u043E\u0432`:void 0}};n.\u0275fac=function(o){return new(o||n)(h(H),h(D),h(J))},n.\u0275cmp=E({type:n,selectors:[["app-movie"]],viewQuery:function(o, l){if(o&1&&(y(Z,5),y(tt,5)),o&2){let _;P(_=I())&&(l.backdrop=_.first),P(_=I())&&(l.modal=_.first)}},decls:3,vars:3,consts:[["class","about-movie",3,"background-image",4,"ngIf"],["class","details",4,"ngIf"],["class","similar",4,"ngIf"],[1,"about-movie"],[1,"content"],["class","name",3,"hidden","src","load",4,"ngIf"],["class","name",4,"ngIf"],[1,"title"],["class","rating","appRateColor","",3,"rating",4,"ngIf"],[1,"year"],[1,"genre"],[1,"country"],["class","movie-length",4,"ngIf"],["class","country",4,"ngIf"],["class","age-rating",4,"ngIf"],[1,"short-description"],[1,"buttons"],[1,"watch-movie",3,"click"],["class","watch-movie",3,"click",4,"ngIf"],[1,"name",3,"hidden","src","load"],[1,"name"],["appRateColor","",1,"rating",3,"rating"],[1,"movie-length"],[1,"age-rating"],[1,"details"],[1,"content__container","content__container_first"],[1,"description"],["class","content__container",4,"ngIf"],[1,"content__container"],[1,"content__title"],[1,"content__ul"],["class","content__li",4,"ngFor","ngForOf"],[1,"content__li"],[1,"content__a",3,"routerLink"],[1,"similar"],[1,"films"],["class","films__card",3,"routerLink",4,"ngFor","ngForOf"],[1,"films__card",3,"routerLink"],[3,"card"]],template:function(o, l){o&1&&g(0,st,21,14,"section",0)(1,gt,9,3,"section",1)(2,vt,5,1,"section",2),o&2&&(s("ngIf",l.movie),r(1),s("ngIf",l.movie),r(1),s("ngIf",l.movie==null||l.movie.similarMovies==null?null:l.movie.similarMovies.length))},dependencies:[N,L,Q,q,A,G,R,K],styles:['[_nghost-%COMP%]{min-height:calc(100vh - 19.5vw);display:block}.about-movie[_ngcontent-%COMP%]{position:relative;background-size:cover;background-position:center;height:48.5vw}.about-movie[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,rgb(0,0,0) 0%,rgba(0,0,0,.992) 3.1%,rgba(0,0,0,.965) 6.21%,rgba(0,0,0,.918) 9.31%,rgba(0,0,0,.85) 12.42%,rgba(0,0,0,.77) 15.52%,rgba(0,0,0,.667) 18.63%,rgba(0,0,0,.557) 21.73%,rgba(0,0,0,.443) 24.84%,rgba(0,0,0,.333) 27.94%,rgba(0,0,0,.23) 31.05%,rgba(0,0,0,.15) 34.15%,rgba(0,0,0,.082) 37.26%,rgba(0,0,0,.035) 40.36%,rgba(0,0,0,.008) 43.47%,rgba(0,0,0,0) 46.57%),linear-gradient(0deg,rgb(0,0,0) 0%,rgba(0,0,0,.992) 3.1%,rgba(0,0,0,.965) 6.21%,rgba(0,0,0,.918) 9.31%,rgba(0,0,0,.85) 12.42%,rgba(0,0,0,.77) 15.52%,rgba(0,0,0,.667) 18.63%,rgba(0,0,0,.557) 21.73%,rgba(0,0,0,.443) 24.84%,rgba(0,0,0,.333) 27.94%,rgba(0,0,0,.23) 31.05%,rgba(0,0,0,.15) 34.15%,rgba(0,0,0,.082) 37.26%,rgba(0,0,0,.035) 40.36%,rgba(0,0,0,.008) 43.47%,rgba(0,0,0,0) 46.57%)}@media (max-width: 500px){.about-movie[_ngcontent-%COMP%]:after{background:linear-gradient(0deg,rgb(0,0,0) 0%,rgba(0,0,0,.992) 3.1%,rgba(0,0,0,.965) 6.21%,rgba(0,0,0,.918) 9.31%,rgba(0,0,0,.85) 12.42%,rgba(0,0,0,.77) 15.52%,rgba(0,0,0,.667) 18.63%,rgba(0,0,0,.557) 21.73%,rgba(0,0,0,.443) 24.84%,rgba(0,0,0,.333) 27.94%,rgba(0,0,0,.23) 31.05%,rgba(0,0,0,.15) 34.15%,rgba(0,0,0,.082) 37.26%,rgba(0,0,0,.035) 40.36%,rgba(0,0,0,.008) 43.47%,rgba(0,0,0,0) 46.57%)}}.about-movie[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;top:10vw;z-index:1;font-size:1.1vw;max-width:33%}@media (max-width: 500px){.about-movie[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:13px;top:38.5vw;width:100%;max-width:none;position:absolute}}.name[_ngcontent-%COMP%]{max-height:8vw;margin-bottom:1vw;font-size:1.8vw;color:#fff}@media (max-width: 500px){.name[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;max-height:10vw;max-width:43vw}}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5vw;font-size:1vw;margin-bottom:1vw}@media (max-width: 500px){.title[_ngcontent-%COMP%]{margin-bottom:10px;gap:5px;font-size:13px;left:0}}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child):not(:last-child):after{content:","}.rating[_ngcontent-%COMP%]{font-size:.9vw;padding:.1vw .2vw;border-radius:.2vw;background-color:#3bb33b;color:#fff}@media (max-width: 500px){.rating[_ngcontent-%COMP%]{font-size:12px;padding:1px 2px;border-radius:3px}}.genre[_ngcontent-%COMP%]{text-transform:capitalize}.short-description[_ngcontent-%COMP%]{margin-bottom:3vw}@media (max-width: 500px){.short-description[_ngcontent-%COMP%]{margin-bottom:20px}}.director[_ngcontent-%COMP%]{margin-bottom:1vw}.actors[_ngcontent-%COMP%]{margin-bottom:3vw}.person[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.person[_ngcontent-%COMP%]:not(:last-child):after{content:", "}.watch-movie[_ngcontent-%COMP%]{font-size:1vw;color:#fff;background-color:#1c1c1f;transition:background-color .2s;padding:0 .8vw;border-radius:.3vw;border:none;cursor:pointer;height:2.6vw;justify-content:space-between;align-items:center;margin-right:.8vw}.watch-movie[_ngcontent-%COMP%]:hover{background-color:#2a2a2e}@media (max-width: 500px){.watch-movie[_ngcontent-%COMP%]{width:calc(50% - 5px);height:32px;font-size:14px;margin-right:10px;border-radius:3px}}.watch-movie[_ngcontent-%COMP%]:last-child{margin-right:0}.details[_ngcontent-%COMP%]{padding-right:2vw}@media (max-width: 500px){.details[_ngcontent-%COMP%]{padding-top:150px}}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;gap:5vw;font-size:1vw}@media (max-width: 500px){.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-wrap:wrap}}.details[_ngcontent-%COMP%]   .content__a[_ngcontent-%COMP%]:hover{color:#fff}.details[_ngcontent-%COMP%]   .content__container[_ngcontent-%COMP%]{font-size:.8vw}@media (max-width: 500px){.details[_ngcontent-%COMP%]   .content__container[_ngcontent-%COMP%]{font-size:12px;width:calc(50% - 2.5vw)}}.details[_ngcontent-%COMP%]   .content__container[_ngcontent-%COMP%]   .votes[_ngcontent-%COMP%]{margin-bottom:.8vw}.details[_ngcontent-%COMP%]   .content__container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1vw;max-width:70%}@media (max-width: 500px){.details[_ngcontent-%COMP%]   .content__container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:12px;max-width:none}}.details[_ngcontent-%COMP%]   .content__container_first[_ngcontent-%COMP%]{flex-grow:1}@media (max-width: 500px){.details[_ngcontent-%COMP%]   .content__container_first[_ngcontent-%COMP%]{max-width:none;min-width:100%}}.details[_ngcontent-%COMP%]   .content__title[_ngcontent-%COMP%]{margin-bottom:.8vw}@media (max-width: 500px){.details[_ngcontent-%COMP%]   .content__title[_ngcontent-%COMP%]{margin-bottom:8px}}.details[_ngcontent-%COMP%]   .content__ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.2vw}.details[_ngcontent-%COMP%]   .content__li[_ngcontent-%COMP%]{cursor:pointer}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2vw;margin:2vw 0 2vw 1vw}@media (max-width: 500px){h3[_ngcontent-%COMP%]{font-size:12px;margin:20px 0 20px 10px}}ul[_ngcontent-%COMP%]{list-style:none;white-space:nowrap}@media (max-width: 500px){ul[_ngcontent-%COMP%]{white-space:normal}}.similar[_ngcontent-%COMP%]{padding-bottom:3vw}iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}.films__card[_ngcontent-%COMP%]{display:block;width:calc((100% - 5vw) / 6);min-width:calc((100% - 5vw) / 6)}@media (max-width: 500px){.films__card[_ngcontent-%COMP%]{width:calc((100% - 2vw) / 3);min-width:calc((100% - 2vw) / 3)}}']});let e=n;return e})();var ut=[{path:"",component:W}],X=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=u({type:n}),n.\u0275inj=v({imports:[k.forChild(ut),k]});let e=n;return e})();var Bt=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=u({type:n}),n.\u0275inj=v({imports:[j,X,U]});let e=n;return e})();export{Bt as MovieModule};
