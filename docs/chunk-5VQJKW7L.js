import{a as D}from "./chunk-34TZIZEV.js";import{$ as k,B as l,D as d,E as i,F as o,G as v,L as m,M as y,N as p,O as u,P as C,Q as w,T as I,V as S,_ as F,aa as T,ba as R,i as g,ia as z,k as b,l as x,la as $,na as P,oa as j,qa as B,ra as M,ta as L,u as E,x as s,y as h}from "./chunk-GPT4Y3RY.js";function Y(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u041A\u0430\u0440\u044C\u0435\u0440\u0430"),o(),i(3,"span",14),p(4),o()()),t&2){let e=m(2);s(4),u(e.person.profession)}}function H(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u0420\u043E\u0441\u0442"),o(),i(3,"span",14),p(4),I(5,"number"),o()()),t&2){let e=m(2);s(4),C("",S(5,1,e.person.growth,"1.0-2")," \u043C")}}function V(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F"),o(),i(3,"span",14),p(4),o()()),t&2){let e=m(2);s(4),u(e.birthdayRu)}}function q(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u041C\u0435\u0441\u0442\u043E \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F"),o(),i(3,"span",14),p(4),o()()),t&2){let e=m(2);s(4),u(e.person.birthplace)}}function G(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u0414\u0430\u0442\u0430 \u0441\u043C\u0435\u0440\u0442\u0438"),o(),i(3,"span",14),p(4),o()()),t&2){let e=m(2);s(4),u(e.deathRu)}}function J(t, n){if(t&1&&(i(0,"li",18),p(1),o()),t&2){let e=n.$implicit;s(1),w("",e.name," ",e.divorcedReason," ",e.childrenStr,"")}}function K(t, n){if(t&1&&(i(0,"div",15)(1,"span",13),p(2,"\u0421\u0443\u043F\u0440\u0443\u0433"),o(),i(3,"ul",16),d(4,J,2,3,"li",17),o()()),t&2){let e=m(2);s(4),l("ngForOf",e.spousesM)}}function Q(t, n){if(t&1&&(i(0,"li",18),p(1),o()),t&2){let e=n.$implicit;s(1),w("",e.name," ",e.divorcedReason," ",e.childrenStr,"")}}function W(t, n){if(t&1&&(i(0,"div",15)(1,"span",13),p(2,"\u0421\u0443\u043F\u0440\u0443\u0433\u0430"),o(),i(3,"ul",16),d(4,Q,2,3,"li",17),o()()),t&2){let e=m(2);s(4),l("ngForOf",e.spousesF)}}function X(t, n){if(t&1&&(i(0,"div",12)(1,"span",13),p(2,"\u0412\u0441\u0435\u0433\u043E \u0444\u0438\u043B\u044C\u043C\u043E\u0432"),o(),i(3,"span",14),p(4),o()()),t&2){let e=m(2);s(4),u(e.totalFilmsLength)}}function Z(t, n){if(t&1&&(i(0,"li",23),p(1),o()),t&2){let e=n.$implicit;s(1),u(e)}}function tt(t, n){if(t&1&&(i(0,"div",19)(1,"h4",20),p(2,"\u0417\u043D\u0430\u0435\u0442\u0435 \u043B\u0438 \u0432\u044B, \u0447\u0442\u043E..."),o(),i(3,"ul",21),d(4,Z,2,1,"li",22),o()()),t&2){let e=m(2);s(4),l("ngForOf",e.person==null?null:e.person.facts)}}function et(t, n){if(t&1&&(i(0,"section",2),v(1,"img",3),i(2,"div",4)(3,"h3",5),p(4),o(),i(5,"p",6),p(6),o(),i(7,"h4",7),p(8,"\u041E \u043F\u0435\u0440\u0441\u043E\u043D\u0435"),o(),i(9,"div",8),d(10,Y,5,1,"div",9)(11,H,6,4,"div",9)(12,V,5,1,"div",9)(13,q,5,1,"div",9)(14,G,5,1,"div",9)(15,K,5,1,"div",10)(16,W,5,1,"div",10)(17,X,5,1,"div",9),o()(),d(18,tt,5,1,"div",11),o()),t&2){let e=m();s(1),l("src",e.person.posterUrl,E),s(3),u(e.person.nameRu),s(2),u(e.person.nameEn),s(4),l("ngIf",e.person==null?null:e.person.profession),s(1),l("ngIf",e.person==null?null:e.person.growth),s(1),l("ngIf",e.person==null?null:e.person.birthday),s(1),l("ngIf",e.person==null?null:e.person.birthplace),s(1),l("ngIf",e.person==null?null:e.person.death),s(1),l("ngIf",e.spousesM==null?null:e.spousesM.length),s(1),l("ngIf",e.spousesF==null?null:e.spousesF.length),s(1),l("ngIf",e.totalFilmsLength),s(1),l("ngIf",e.person==null||e.person.facts==null?null:e.person.facts.length)}}function nt(t, n){if(t&1&&(i(0,"span"),p(1),o()),t&2){let e=m(2);s(1),C(" (",e.films.length,")")}}function it(t, n){if(t&1&&(i(0,"a",28),v(1,"app-movie-card",29),o()),t&2){let e=n.$implicit;y("routerLink","/movie/",e.filmId,""),s(1),l("card",e)}}function ot(t, n){if(t&1&&(i(0,"section",24)(1,"h3",25),p(2,"\u041B\u0443\u0447\u0448\u0438\u0435 \u0440\u0430\u0431\u043E\u0442\u044B"),d(3,nt,2,1,"span",26),o(),i(4,"app-slider"),d(5,it,2,2,"a",27),o()()),t&2){let e=m();s(3),l("ngIf",e.films==null?null:e.films.length),s(2),l("ngForOf",e.films)}}var A=(()=>{let n=class n{constructor(c, a){this.movieService=c,this.route=a,this.films=[],this.spousesF=[],this.spousesM=[]}ngOnInit(){this.route.params.subscribe(c=>{c.hasOwnProperty("id")&&this.getPersonById(c.id)})}getPersonById(c){this.movieService.getPersonById(c).subscribe(a=>{this.person=a;let f="";if(a.films=a.films.filter(r=>{let _=r.nameEn===f;return f=r.nameEn,!_}),this.totalFilmsLength=a.films.length,a.films=a.films.filter(r=>r.nameRu?r.general?!0:r.rating?parseInt(r.rating)>=8:!1:!1),a.films.forEach(r=>{let _={poster:{previewUrl:`https://st.kp.yandex.net/images/film_iphone/iphone360_${r.filmId}.jpg`},rating:{kp:r.rating},name:r.nameRu?r.nameRu:r.nameEn};this.films.push(Object.assign(_,r))}),this.person.growth&&(this.person.growth/=100),this.person.birthday){let r=new Date(this.person.birthday);this.birthdayRu=`${r.getDate()} ${M[r.getMonth()]}, ${r.getFullYear()}`}if(this.person.death){let r=new Date(this.person.death);this.deathRu=`${r.getDate()} ${M[r.getMonth()]}, ${r.getFullYear()}`}this.person.spouses.sort((r, _)=>r.divorced&&!_.divorced?-1:!r.divorced&&_.divorced?1:0),this.person.spouses.forEach(r=>{if(r.children){let _=this.getNumberOfChildren(r.children),O=Object.assign(r,{childrenStr:_||""});r.sex==="MALE"?this.spousesM.push(O):this.spousesF.push(O)}})})}getNumberOfChildren(c){let a=c%10;return c>=10&&c<=20?`${c} \u0434\u0435\u0442\u0435\u0439`:a===1?`${c} \u0440\u0435\u0431\u0451\u043D\u043E\u043A`:a>=2&&a<=4?`${c} \u0440\u0435\u0431\u0451\u043D\u043A\u0430`:a>=5&&a<=9||a===0?`${c} \u0434\u0435\u0442\u0435\u0439`:void 0}};n.\u0275fac=function(a){return new(a||n)(h(D),h(z))},n.\u0275cmp=b({type:n,selectors:[["app-person"]],decls:2,vars:2,consts:[["class","person",4,"ngIf"],["class","slider",4,"ngIf"],[1,"person"],["alt","",1,"person__img",3,"src"],[1,"person__content"],[1,"person__nameRu"],[1,"person__nameEn"],[1,"person__about"],[1,"person-info"],["class","person-info__element",4,"ngIf"],["class","person-info__element person-info__element_spouse",4,"ngIf"],["class","person-facts",4,"ngIf"],[1,"person-info__element"],[1,"person-info__attribute"],[1,"person-info__value"],[1,"person-info__element","person-info__element_spouse"],[1,"person-info__ul"],["class","person-info__li",4,"ngFor","ngForOf"],[1,"person-info__li"],[1,"person-facts"],[1,"person-facts__title"],[1,"person-facts__ul"],["class","person-facts__li",4,"ngFor","ngForOf"],[1,"person-facts__li"],[1,"slider"],[1,"best-work"],[4,"ngIf"],["class","films__card",3,"routerLink",4,"ngFor","ngForOf"],[1,"films__card",3,"routerLink"],[3,"card"]],template:function(a, f){a&1&&d(0,et,19,12,"section",0)(1,ot,6,2,"section",1),a&2&&(l("ngIf",f.person),s(1),l("ngIf",f.films==null?null:f.films.length))},dependencies:[F,k,$,j,B,T],styles:["[_nghost-%COMP%]{min-height:calc(100vh - 19.5vw);display:block}@media (max-width: 500px){[_nghost-%COMP%]{min-height:calc(100vh - 220px)}}.person[_ngcontent-%COMP%]{display:flex;gap:3vw;padding-top:1vw}@media (max-width: 500px){.person[_ngcontent-%COMP%]{flex-wrap:wrap;row-gap:0;column-gap:3vw}}.person__img[_ngcontent-%COMP%]{height:30vw}@media (max-width: 500px){.person__img[_ngcontent-%COMP%]{width:calc(50% - 1.5vw);height:auto}}.person__content[_ngcontent-%COMP%]{text-wrap:nowrap}@media (max-width: 500px){.person__content[_ngcontent-%COMP%]{text-wrap:unset;width:calc(50% - 1.5vw)}}.person__content[_ngcontent-%COMP%]   .person-info[_ngcontent-%COMP%]{font-size:.7vw}@media (max-width: 500px){.person__content[_ngcontent-%COMP%]   .person-info[_ngcontent-%COMP%]{font-size:8px}}.person__content[_ngcontent-%COMP%]   .person-info__attribute[_ngcontent-%COMP%]{display:inline-block;width:8vw}@media (max-width: 500px){.person__content[_ngcontent-%COMP%]   .person-info__attribute[_ngcontent-%COMP%]{width:80px;min-width:80px}}.person__content[_ngcontent-%COMP%]   .person-info__element_spouse[_ngcontent-%COMP%]{display:flex}.person__content[_ngcontent-%COMP%]   .person-info__ul[_ngcontent-%COMP%]{list-style-type:none}.person__content[_ngcontent-%COMP%]   .person-info__li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.2vw}@media (max-width: 500px){.person__content[_ngcontent-%COMP%]   .person-info__li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2px}}.person__content[_ngcontent-%COMP%]   .person-info__element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1vw}@media (max-width: 500px){.person__content[_ngcontent-%COMP%]   .person-info__element[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}}.person__nameRu[_ngcontent-%COMP%]{font-size:2.2vw;margin-bottom:.8vw;color:#fff}@media (max-width: 500px){.person__nameRu[_ngcontent-%COMP%]{font-size:22px;margin-bottom:8px}}.person__nameEn[_ngcontent-%COMP%]{font-size:1vw;margin-bottom:3vw}@media (max-width: 500px){.person__nameEn[_ngcontent-%COMP%]{font-size:10px;margin-bottom:30px}}.person__about[_ngcontent-%COMP%]{font-size:1.2vw;color:#fff;margin-bottom:1vw}@media (max-width: 500px){.person__about[_ngcontent-%COMP%]{font-size:12px;color:#fff;margin-bottom:10px}}.person[_ngcontent-%COMP%]   .person-facts[_ngcontent-%COMP%]{padding-top:.8vw;padding-left:6vw;overflow-y:hidden}@media (max-width: 500px){.person[_ngcontent-%COMP%]   .person-facts[_ngcontent-%COMP%]{padding:0;width:100%}}.person[_ngcontent-%COMP%]   .person-facts__title[_ngcontent-%COMP%]{color:#fff;font-size:1.2vw;margin-bottom:1.5vw;height:1.5vw}@media (max-width: 500px){.person[_ngcontent-%COMP%]   .person-facts__title[_ngcontent-%COMP%]{font-size:12px;margin:20px 0 20px 10px;height:15px}}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]{font-size:.7vw;padding-left:.8vw;max-height:26.2vw;overflow-y:auto}@media (max-width: 500px){.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]{font-size:8px;padding-left:0;max-height:120px}}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#3d3d43}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,255,255,.5)}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.65)}.person[_ngcontent-%COMP%]   .person-facts__ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:rgba(255,255,255,.8)}.person[_ngcontent-%COMP%]   .person-facts__li[_ngcontent-%COMP%]:not(:last-child){padding-right:3vw;margin-bottom:.8vw;padding-bottom:.8vw;border-bottom:1px solid #3d3d43}@media (max-width: 500px){.person[_ngcontent-%COMP%]   .person-facts__li[_ngcontent-%COMP%]:not(:last-child){padding-right:30px;margin-bottom:8px;padding-bottom:8px}}.best-work[_ngcontent-%COMP%]{color:#fff;font-size:1.2vw;margin:2vw 0 2vw 1vw}@media (max-width: 500px){.best-work[_ngcontent-%COMP%]{font-size:12px;margin:20px 0 20px 10px}}.slider[_ngcontent-%COMP%]{padding-bottom:3vw}.films__card[_ngcontent-%COMP%]{display:block;width:calc((100% - 5vw) / 6);min-width:calc((100% - 5vw) / 6)}@media (max-width: 500px){.films__card[_ngcontent-%COMP%]{width:calc((100% - 2vw) / 3);min-width:calc((100% - 2vw) / 3)}}"]});let t=n;return t})();var rt=[{path:"",component:A}],U=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=x({type:n}),n.\u0275inj=g({imports:[P.forChild(rt),P]});let t=n;return t})();var wt=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=x({type:n}),n.\u0275inj=g({imports:[R,U,L]});let t=n;return t})();export{wt as PersonModule};
